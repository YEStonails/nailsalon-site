<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>Yes to Nails - Service Calculator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #fff0f5;
      color: #333;
      margin: 0;
      padding: 0;
    }
    header, nav, footer {
      text-align: center;
      padding: 1em;
    }
    nav {
      background-color: #fff;
      border-bottom: 1px solid #ccc;
    }
    nav a {
      margin: 0 1em;
      text-decoration: none;
      color: #d63384;
      font-weight: bold;
    }
    section {
      max-width: 500px;
      margin: 2em auto;
      background: #fff;
      padding: 2em;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.05);
    }
    h1, h2 {
      color: #d63384;
    }
    input, button {
      width: 100%;
      padding: 0.6em;
      margin: 0.5em 0;
      font-size: 1em;
    }
    button {
      background-color: #ff99cc;
      color: #fff;
      border: none;
      cursor: pointer;
      font-weight: bold;
    }
    button:hover {
      background-color: #d63384;
    }
    #sheetInitResult, #adminLoginResult {
      font-weight: bold;
      margin-top: 1em;
      text-align: center;
    }
  </style>
</head>
<body>

<header>
  <h1>Yes to Nails - Admin Panel</h1>
</header>

<nav>
  <a href="#">Services</a> |
  <a href="#">Admin</a>
</nav>

<section>
  <h2>üõ†Ô∏è Initialize Google Sheets</h2>
  <button onclick="initializeSheets()">Initialize Sheets</button>
  <p id="sheetInitResult"></p>

  <h2>üîê Admin Login</h2>
  <input type="text" id="adminUser" placeholder="Username" />
  <input type="password" id="adminPass" placeholder="Password" />
  <button onclick="adminLogin()">Login</button>
  <p id="adminLoginResult"></p>
</section>

<footer>
  <p>¬© 2025 Yes to Nails. All rights reserved.</p>
</footer>

<script>
  const INIT_SHEET_URL = 'https://script.google.com/macros/s/AKfycbz0cFlyWEWmFxAZhuSAYsTzxBGFCANzrIXNT4608gU6R2J-TYT1QpvmfdXNU3ZqhvLPFg/exec';

  function initializeSheets() {
    const payloads = [
      {
        sheet: 'Services',
        headers: ['ID', 'Name', 'Category', 'Price', 'Duration', 'Description'],
        rows: []
      },
      {
        sheet: 'BusinessHours',
        headers: ['day', 'open', 'close', 'closed'],
        rows: [
          ['monday', '09:00', '18:00', false],
          ['tuesday', '09:00', '18:00', false],
          ['wednesday', '09:00', '18:00', false],
          ['thursday', '09:00', '18:00', false],
          ['friday', '09:00', '18:00', false],
          ['saturday', '09:00', '18:00', false],
          ['sunday', '09:00', '18:00', true]
        ]
      },
      {
        sheet: 'EmailSettings',
        headers: ['sendToCustomers', 'sendToAdmin', 'adminEmail'],
        rows: [[true, true, 'nailsk2022@gmail.com']]
      },
      {
        sheet: 'Admin',
        headers: ['username', 'password'],
        rows: [['admin', 'admin123']]
      }
    ];

    document.getElementById('sheetInitResult').textContent = 'Initializing...';
    let done = 0;

    payloads.forEach(sheetData => {
      fetch(`${INIT_SHEET_URL}?sheet=${sheetData.sheet}`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify([sheetData.headers, ...sheetData.rows])
      })
      .then(res => res.text())
      .then(() => {
        done++;
        if (done === payloads.length) {
          document.getElementById('sheetInitResult').textContent = '‚úÖ All tabs initialized!';
        }
      })
      .catch(err => {
        document.getElementById('sheetInitResult').textContent = `‚ùå Error: ${err.message}`;
      });
    });
  }

  function adminLogin() {
    const username = document.getElementById('adminUser').value;
    const password = document.getElementById('adminPass').value;

    fetch(`${INIT_SHEET_URL}?sheet=Admin`)
      .then(res => res.json())
      .then(data => {
        const match = data.find(row => row.username === username && row.password === password);
        const message = match ? '‚úÖ Login successful!' : '‚ùå Invalid credentials.';
        document.getElementById('adminLoginResult').textContent = message;
      })
      .catch(err => {
        document.getElementById('adminLoginResult').textContent = '‚ùå Login error.';
        console.error(err);
      });
  }
</script>

</body>
</html>
